Version 4
SHEET 1 880 764
WIRE 448 112 432 112
WIRE 528 112 512 112
WIRE 288 128 -32 128
WIRE 432 128 432 112
WIRE 432 128 384 128
WIRE 448 128 432 128
WIRE 528 128 528 112
WIRE 528 128 512 128
WIRE 560 128 528 128
WIRE 720 128 560 128
WIRE 560 208 560 128
WIRE 720 208 720 128
WIRE -32 224 -32 128
WIRE 288 224 288 128
WIRE 384 224 384 128
WIRE -32 368 -32 304
WIRE 0 368 -32 368
WIRE -32 384 -32 368
WIRE 0 384 0 368
WIRE 96 384 0 384
WIRE 192 384 176 384
WIRE 288 384 288 304
WIRE 304 384 288 384
WIRE 384 384 384 304
WIRE 448 384 384 384
WIRE 560 384 560 272
WIRE 560 384 448 384
WIRE 720 384 720 288
WIRE 720 384 560 384
WIRE 192 400 192 384
WIRE 288 400 288 384
WIRE 288 400 256 400
FLAG -32 384 0
FLAG 464 624 A
FLAG 160 432 A
FLAG 112 432 B
FLAG 384 624 B
FLAG 448 384 0
SYMBOL Voltage -32 208 R0
SYMATTR InstName V1
SYMATTR Value {Vs}
SYMBOL Res 704 192 R0
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL Cap 544 208 R0
WINDOW 39 24 78 Left 2
SYMATTR InstName C1
SYMATTR Value {C}
SYMATTR SpiceLine IC=3.5
SYMBOL ind2 304 320 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value {Lm}
SYMATTR Type ind
SYMBOL ind2 368 208 R0
WINDOW 3 -9 214 Left 1
SYMATTR InstName L2
SYMATTR Value {Lm/(N1_N2*N1_N2)}
SYMATTR Type ind
SYMBOL Voltage 480 624 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 0 1n 1n {Duty/F} {1/F})
SYMBOL sw 80 384 R270
SYMATTR InstName S1
SYMBOL Diode 256 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMBOL Diode 448 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -29 30 VBottom 2
SYMATTR InstName D2
TEXT -56 504 Left 2 !.param Vs=24\n.param R=5\n.param C=200u\n.param F=40k\n.param N1_N2 = 3\n.param Lm = 500u\n.param Duty=0.385
TEXT 248 96 Left 2 !K1 L1 L2 1
TEXT -136 728 Left 2 !.model SW SW (Ron=0.05 Roff=10Meg Vt=0.1 Vh=0)\n.model D D(Ron=1n Roff=1Meg Vfwd=0)
TEXT -128 688 Left 2 !.tran 0 {(1/F)*1000} 0 5u
